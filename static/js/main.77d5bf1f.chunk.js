(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(7),r=n.n(s),i=(n(93),n(13)),o=n.n(i),l=n(28),u=n(8),d=(n(95),n(237)),f=n(238),h=n(239),j=n(228),v=n(232),p=n(2),b=n(233),O=(n(62),n(3));var x=function(e){var t=e.title,n=e.cases,a=e.total,c=e.active,s=e.isRed,r=e.isGreen,i=e.isGrey,o=e.isPurple,l=Object(p.a)(e,["title","cases","total","active","isRed","isGreen","isGrey","isPurple"]);return Object(O.jsx)(j.a,{onClick:l.onClick,className:"infoBox ".concat(c&&"infoBox--selected"," \n        ").concat(s&&"infoBox--red","\n        ").concat(r&&"infoBox--green","\n        ").concat(i&&"infoBox--grey","\n        ").concat(o&&"infoBox--purple"),children:Object(O.jsx)(v.a,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)(b.a,{className:"infoBox__title",color:"textSecondary",children:t}),Object(O.jsx)("h2",{className:"infoBox__cases \n              ".concat(s&&"infoBox__cases--red","\n              ").concat(r&&"infoBox__cases--green","\n              ").concat(i&&"infoBox__cases--grey","\n              ").concat(o&&"infoBox__cases--purple"),children:l.isloading?Object(O.jsx)("i",{className:"fa fa-cog fa-spin fa-fw"}):n}),Object(O.jsxs)(b.a,{className:"infoBox__total",color:"textSecondary",children:[a," Total"]})]})})})},m=(n(101),n(235)),y=n(236),g=n(241),C=n(16),w=n(15),_=n.n(w),N=n(240),k=n(234),S={cases:{hex:"#CC1034",mulitiplier:200},recovered:{hex:"#7DD71D",mulitiplier:200},deaths:{hex:"#C0C0C0",mulitiplier:400},vaccinations:{hex:"#9809eb",mulitiplier:100}},B=function(e){return Object(C.a)(e).sort((function(e,t){return e.cases>t.cases?-1:1}))},D=function(e){return e?"+".concat(_()(e).format("0.0a")):"+0"};var I=function(e){var t=e.countries,n=e.vaccines,a=e.casesType,c=e.center,s=e.zoom;function r(e){var t=e.center,n=e.zoom;return Object(m.a)().setView(t,n),null}var i,o=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cases",a=new Map,c=0;c<t.length;c++){for(var s=[],r=t[c].timeline,i=0,o=Object.keys(r);i<o.length;i++){var l=o[i];s.push(r[l])}var u=s.length-1,d={today:s[u]-s[u-2],total:s[u]};a.set(t[c].country,d)}for(c=0;c<e.length;c++)a.has(e[c].country)||a.set(e[c].country,{today:0,total:0});var f=[];for(c=0;c<e.length;c++){var h=e[c].country,j=0;j="vaccinations"===n?Math.sqrt(a.get(h).total/10)*S.vaccinations.mulitiplier:Math.sqrt(e[c][n]/10)*S[n].mulitiplier;var v={center:[e[c].countryInfo.lat,e[c].countryInfo.long],fillOpacity:.4,pathOptions:{color:S[n].hex,fillColor:S[n].hex},radius:j,flagUrl:e[c].countryInfo.flag,countryName:e[c].country,cases:e[c].cases,recovered:e[c].recovered,deaths:e[c].deaths,vaccinations:a.get(h).total};f.push(v)}return f}(t,n,a);return Object(O.jsx)("div",{className:"map",children:Object(O.jsxs)(y.a,{casesType:a,className:"map",center:c,zoom:s,scrollWheelZoom:!1,children:[Object(O.jsx)(r,{center:c,zoom:s}),Object(O.jsx)(g.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(i=o,i.map((function(e){return Object(O.jsx)(N.a,{center:e.center,fillOpacity:e.fillOpacity,pathOptions:e.pathOptions,radius:e.radius,children:Object(O.jsx)(k.a,{children:Object(O.jsxs)("div",{className:"info-container",children:[Object(O.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.flagUrl,")")}}),Object(O.jsx)("div",{className:"info-name",children:e.countryName}),Object(O.jsxs)("div",{className:"info-confirmed",children:["Cases: ",_()(e.cases).format("0,0")]}),Object(O.jsxs)("div",{className:"info-recovered",children:["Recovered: ",_()(e.recovered).format("0,0")]}),Object(O.jsxs)("div",{className:"info-deaths",children:["Deaths: ",_()(e.deaths).format("0,0")]}),Object(O.jsxs)("div",{className:"info-vaccinations",children:["Vaccinations: ",_()(e.vaccinations).format("0,0")]})]})})})})))]})})};n(102);var T=function(e){var t=e.countries;return Object(O.jsx)("div",{className:"table",children:t.map((function(e){var t=e.country,n=e.cases;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:t}),Object(O.jsx)("td",{children:Object(O.jsx)("strong",{children:_()(n).format("000,000")})})]})}))})},M=n(82),R={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return _()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,n){return _()(e).format("0a")}}}]}},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";if("vaccinations"===t){var n,a=[];for(var c in e){if(n){var s={x:c,y:e[c]-n};a.push(s)}n=e[c]}return a}var r,i=[];for(var o in e.cases){if(r){var l={x:o,y:e[t][o]-r};i.push(l)}r=e[t][o]}return i};var E=function(e){var t=e.casesType,n=void 0===t?"cases":t,c=Object(p.a)(e,["casesType"]),s=Object(a.useState)({}),r=Object(u.a)(s,2),i=r[0],d=r[1],f=Object(a.useState)("#CC1034"),h=Object(u.a)(f,2),j=h[0],v=h[1],b=Object(a.useState)("rgba(204, 16, 52, 0.5)"),x=Object(u.a)(b,2),m=x[0],y=x[1];return Object(a.useEffect)((function(){("cases"===n?(v("#CC1034"),y("rgba(204, 16, 52, 0.5)")):"recovered"===n?(v("#7DD71D"),y("rgba(125,215,29,0.5)")):"deaths"===n?(v("#C0C0C0"),y("rgba(192, 192, 192, 0.5)")):"vaccinations"===n&&(v("#9809eb"),y("rgba(152, 9, 235, 0.5)")),"vaccinations"===n)?function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/vaccine/coverage?lastdays=60").then((function(e){return e.json()})).then((function(e){var t=z(e,n);d(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=60").then((function(e){return e.json()})).then((function(e){var t=z(e,n);d(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),Object(O.jsx)("div",{className:c.className,children:(null===i||void 0===i?void 0:i.length)>0&&Object(O.jsx)(M.Line,{options:R,data:{datasets:[{backgroundColor:m,borderColor:j,data:i}]}})})};n(199);var G=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)("worldwide"),r=Object(u.a)(s,2),i=r[0],p=r[1],b=Object(a.useState)({}),m=Object(u.a)(b,2),y=m[0],g=m[1],C=Object(a.useState)({}),w=Object(u.a)(C,2),_=w[0],N=w[1],k=Object(a.useState)([]),S=Object(u.a)(k,2),M=S[0],R=S[1],z=Object(a.useState)({lat:34.80746,lng:-40.4796}),G=Object(u.a)(z,2),F=G[0],L=G[1],P=Object(a.useState)(3),V=Object(u.a)(P,2),A=V[0],W=V[1],q=Object(a.useState)([]),J=Object(u.a)(q,2),U=J[0],Y=J[1],Z=Object(a.useState)([]),H=Object(u.a)(Z,2),K=H[0],Q=H[1],X=Object(a.useState)("cases"),$=Object(u.a)(X,2),ee=$[0],te=$[1],ne=Object(a.useState)(!1),ae=Object(u.a)(ne,2),ce=ae[0],se=ae[1];Object(a.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/all?yesterday=true").then((function(e){return e.json()})).then((function(e){g(e)}))}),[]),Object(a.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/vaccine/coverage?lastdays=all").then((function(e){return e.json()})).then((function(e){for(var t=[],n=0,a=Object.keys(e);n<a.length;n++){var c=a[n];t.push(e[c])}var s=t.length-1,r={today:t[s]-t[s-2],total:t[s]};N(r)}))}),[]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),n=B(e);R(n),c(t),Y(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/vaccine/coverage/countries?lastdays=all").then((function(e){return e.json()})).then((function(e){Q(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var re=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!0),n=t.target.value,a="worldwide"===n?"https://disease.sh/v3/covid-19/all?yesterday=true":"https://disease.sh/v3/covid-19/countries/".concat(n,"?yesterday=true"),c="worldwide"===n?"https://disease.sh/v3/covid-19/vaccine/coverage?lastdays=all":"https://disease.sh/v3/covid-19/vaccine/coverage/countries/".concat(n,"?lastdays=all"),e.next=6,fetch(c).then((function(e){return e.json()})).then((function(e){var t=e;"worldwide"!==n&&(t=e.timeline);for(var a=[],c=0,s=Object.keys(t);c<s.length;c++){var r=s[c];a.push(t[r])}var i=a.length-1,o={today:a[i]-a[i-2],total:a[i]};N(o)}));case 6:return e.next=8,fetch(a).then((function(e){return e.json()})).then((function(e){p(n),g(e),se(!1),L("worldwide"===n?[34.80746,-40.4796]:[e.countryInfo.lat,e.countryInfo.long]),W(4)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"app",children:[Object(O.jsxs)("div",{className:"app__left",children:[Object(O.jsxs)("div",{className:"app__header",children:[Object(O.jsx)("h1",{children:"COVID-19 Tracker"}),Object(O.jsx)(d.a,{className:"app__dropdown",children:Object(O.jsxs)(f.a,{variant:"outlined",onChange:re,value:i,children:[Object(O.jsx)(h.a,{value:"worldwide",children:"Worldwide"}),n.map((function(e){return Object(O.jsx)(h.a,{value:e.value,children:e.name})}))]})})]}),Object(O.jsxs)("div",{className:"app__stats",children:[Object(O.jsx)(x,{title:"COVID-19 Cases",cases:D(y.todayCases),total:D(y.cases),onClick:function(e){return te("cases")},active:"cases"===ee,isRed:!0,isloading:ce}),Object(O.jsx)(x,{title:"Recovered",cases:D(y.todayRecovered),total:D(y.recovered),onClick:function(e){return te("recovered")},active:"recovered"===ee,isGreen:!0,isloading:ce}),Object(O.jsx)(x,{title:"Deaths",cases:D(y.todayDeaths),total:D(y.deaths),onClick:function(e){return te("deaths")},active:"deaths"===ee,isGrey:!0,isloading:ce}),Object(O.jsx)(x,{title:"Vaccinations",cases:D(_.today),total:D(_.total),onClick:function(e){return te("vaccinations")},active:"vaccinations"===ee,isPurple:!0,isloading:ce})]}),Object(O.jsx)(I,{countries:U,vaccines:K,casesType:ee,center:F,zoom:A})]}),Object(O.jsx)(j.a,{className:"app__right",children:Object(O.jsxs)(v.a,{children:[Object(O.jsx)("h3",{children:"Live Cases by Country"}),Object(O.jsx)(T,{countries:M}),Object(O.jsxs)("h3",{className:"app__graphTitle",children:["Worldwide daily ",ee]}),Object(O.jsx)(E,{className:"app__graph",casesType:ee})]})})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,243)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(G,{})}),document.getElementById("root")),F()},62:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){}},[[201,1,2]]]);
//# sourceMappingURL=main.77d5bf1f.chunk.js.map